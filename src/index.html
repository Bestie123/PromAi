<!DOCTYPE html>
<html lang="ru" data-module-id="PROJECT_TechKnowledgeBase">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tech Knowledge Base - PromAi</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/knowledge.css">
</head>
<body>
    <div class="container" data-module-id="MODULE_UIManager_VER_1.0" data-component-id="COMP_MainContainer">
        <h1 data-component-id="COMP_Title">üìö Tech Knowledge Base</h1>
        
        <div class="auth-section" id="authSection" data-module-id="MODULE_AuthManager_VER_1.0" data-component-id="COMP_AuthSection">
            <h3 data-component-id="COMP_AuthTitle">üîê GitHub Access</h3>
            <input type="password" id="githubToken" placeholder="Token" data-component-id="COMP_TokenInput">
            <input type="text" id="repoOwner" placeholder="Owner" data-component-id="COMP_OwnerInput">
            <input type="text" id="repoName" placeholder="Repo" data-component-id="COMP_RepoInput">
            <button onclick="authManager.saveAuth()" data-function-id="FUNC_saveAuth_002" data-component-id="COMP_SaveAuthBtn">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
            <button onclick="authManager.testAuth()" data-function-id="FUNC_testAuth_001" data-component-id="COMP_TestAuthBtn">üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ</button>
            <div id="syncStatus" class="sync-status" data-component-id="COMP_SyncStatus"></div>
            <div id="authStatus" data-component-id="COMP_AuthStatus"></div>
            <p><small>–¢–æ–∫–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ. –°–æ–∑–¥–∞–π—Ç–µ —Ç–æ–∫–µ–Ω –≤ GitHub —Å –ø—Ä–∞–≤–∞–º–∏ repo</small></p>
        </div>

        <div class="controls" data-module-id="MODULE_UIManager_VER_1.0" data-component-id="COMP_Controls">
            <button onclick="uiManager.showModal('categoryModal')" data-function-id="FUNC_showModal_001" data-component-id="COMP_AddCategoryBtn">+ –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</button>
            <button onclick="uiManager.showAddNodeModal()" data-function-id="FUNC_showAddNodeModal_007" data-component-id="COMP_AddNodeBtn">+ –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—é</button>
            <button onclick="uiManager.showAddTechModal()" data-function-id="FUNC_showAddTechModal_008" data-component-id="COMP_AddTechBtn">+ –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—é</button>
            <button onclick="authManager.loadFromGitHub()" data-function-id="FUNC_loadFromGitHub_004" data-component-id="COMP_LoadBtn">üîÑ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å GitHub</button>
            <button onclick="authManager.saveToGitHub()" data-function-id="FUNC_saveToGitHub_005" data-component-id="COMP_SaveBtn">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞ GitHub</button>
            <button onclick="authManager.forceSync()" data-function-id="FUNC_forceSync_006" data-component-id="COMP_ForceSyncBtn">üîÑ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è</button>
            <button onclick="authManager.toggleAutoSave()" id="autoSaveBtn" data-function-id="FUNC_toggleAutoSave_007" data-component-id="COMP_AutoSaveBtn">üö´ –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ</button>
            <button onclick="dataManager.exportToJSON()" data-function-id="FUNC_exportToJSON_008" data-component-id="COMP_ExportBtn">üì• –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON</button>
            <button onclick="dataManager.importFromJSON()" data-function-id="FUNC_importFromJSON_009" data-component-id="COMP_ImportBtn">üì§ –ò–º–ø–æ—Ä—Ç –∏–∑ JSON</button>
            <button onclick="knowledgeManager.showGlobalSearch()" class="success" data-function-id="FUNC_showGlobalSearch_001" data-component-id="COMP_SearchBtn">üîç –ü–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π</button>
        </div>

        <div id="accordionContainer" data-module-id="MODULE_AccordionManager_VER_1.0" data-component-id="COMP_AccordionContainer"></div>
    </div>

    <div id="categoryModal" class="modal" data-module-id="MODULE_UIManager_VER_1.0" data-component-id="COMP_CategoryModal">
        <div class="modal-content" data-component-id="COMP_CategoryModalContent">
            <h3 data-component-id="COMP_CategoryModalTitle">Add Category</h3>
            <input type="text" id="newCategoryName" placeholder="Name" data-component-id="COMP_CategoryNameInput">
            <button onclick="dataManager.addCategory()" data-function-id="FUNC_addCategory_004" data-component-id="COMP_AddCategorySubmitBtn">Add</button>
            <button onclick="uiManager.hideModals()" data-function-id="FUNC_hideModals_002" data-component-id="COMP_CancelCategoryBtn">Cancel</button>
        </div>
    </div>

    <div id="nodeModal" class="modal" data-module-id="MODULE_UIManager_VER_1.0" data-component-id="COMP_NodeModal">
        <div class="modal-content" data-component-id="COMP_NodeModalContent">
            <h3 data-component-id="COMP_NodeModalTitle">–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—é</h3>
            <div id="nodeParentSelect" data-component-id="COMP_NodeParentSelect"></div>
            <input type="text" id="newNodeName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏" data-component-id="COMP_NodeNameInput">
            <button onclick="dataManager.addNode()" data-function-id="FUNC_addNode_008" data-component-id="COMP_AddNodeSubmitBtn">–î–æ–±–∞–≤–∏—Ç—å</button>
            <button onclick="uiManager.hideModals()" data-function-id="FUNC_hideModals_002" data-component-id="COMP_CancelNodeBtn">–û—Ç–º–µ–Ω–∞</button>
        </div>
    </div>

    <div id="techModal" class="modal" data-module-id="MODULE_UIManager_VER_1.0" data-component-id="COMP_TechModal">
        <div class="modal-content" data-component-id="COMP_TechModalContent">
            <h3 data-component-id="COMP_TechModalTitle">–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—é</h3>
            <div id="techParentSelect" data-component-id="COMP_TechParentSelect"></div>
            <input type="text" id="newTechName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏" data-component-id="COMP_TechNameInput">
            <button onclick="dataManager.addTechnology()" data-function-id="FUNC_addTechnology_005" data-component-id="COMP_AddTechSubmitBtn">–î–æ–±–∞–≤–∏—Ç—å</button>
            <button onclick="uiManager.hideModals()" data-function-id="FUNC_hideModals_002" data-component-id="COMP_CancelTechBtn">–û—Ç–º–µ–Ω–∞</button>
        </div>
    </div>

    <div id="checklistModal" class="modal" data-module-id="MODULE_ChecklistManager_VER_1.0" data-component-id="COMP_ChecklistModal">
        <div class="modal-content" data-component-id="COMP_ChecklistModalContent">
            <div class="checklist-header" data-component-id="COMP_ChecklistHeader">
                <h3 id="checklistTitle" data-component-id="COMP_ChecklistTitle">–ß–µ–∫-–ª–∏—Å—Ç</h3>
                <button onclick="uiManager.hideModals()" data-function-id="FUNC_hideModals_002" data-component-id="COMP_CloseChecklistBtn">‚úï</button>
            </div>
            <div class="checklist-stats" id="checklistStats" data-component-id="COMP_ChecklistStats"></div>
            <div id="checklistItems" data-component-id="COMP_ChecklistItems"></div>
            <div class="checklist-actions" data-component-id="COMP_ChecklistActions">
                <input type="text" id="newChecklistItem" placeholder="–ù–æ–≤—ã–π –ø—É–Ω–∫—Ç —á–µ–∫-–ª–∏—Å—Ç–∞" style="width: calc(100% - 100px);" data-component-id="COMP_NewChecklistItemInput">
                <button onclick="checklistManager.addChecklistItem()" data-function-id="FUNC_addChecklistItem_001" data-component-id="COMP_AddChecklistItemBtn">+ –î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
            <div style="margin-top: 15px;" data-component-id="COMP_ChecklistFooter">
                <button onclick="checklistManager.saveChecklist()" class="success" data-function-id="FUNC_saveChecklist_002" data-component-id="COMP_SaveChecklistBtn">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —á–µ–∫-–ª–∏—Å—Ç</button>
                <button onclick="uiManager.hideModals()" data-function-id="FUNC_hideModals_002" data-component-id="COMP_CancelChecklistBtn">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω —Å–∏—Å—Ç–µ–º—ã –∑–Ω–∞–Ω–∏–π -->
    <script>
        fetch('modals-knowledge.html')
            .then(response => response.text())
            .then(html => {
                const div = document.createElement('div');
                div.innerHTML = html;
                document.body.appendChild(div);
            });
    </script>

    <script src="modules/DOMFactory.js"></script>
    <script src="modules/FunctionTracer.js"></script>
    <script src="modules/DependencyValidator.js"></script>
    <script src="modules/DataManager.js"></script>
    <script src="modules/UIManager.js"></script>
    <script src="modules/AccordionManager.js"></script>
    <script src="modules/ChecklistManager.js"></script>
    <script src="modules/AuthManager.js"></script>
    <script src="modules/KnowledgeManager.js"></script>
    <script src="modules/KnowledgeEditor.js"></script>
    <script src="modules/Inspector.js"></script>
    <script src="main.js"></script>
</body>
</html>
