// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: node scripts/generate-docs.js FunctionRegistry

const fs = require('fs');
const path = require('path');

const functionalityName = process.argv[2];

if (!functionalityName) {
  console.error('‚ùå –£–∫–∞–∂–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞: node scripts/generate-docs.js FunctionRegistry');
  process.exit(1);
}

console.log(`üìù –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è: ${functionalityName}`);

// –®–∞–±–ª–æ–Ω –ø—Ä–æ–º–ø—Ç–∞
const promptTemplate = `# –ü–†–û–ú–ü–¢: ${functionalityName}

## –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- {–û–ø–∏—à–∏ —Å–∏—Ç—É–∞—Ü–∏–∏ –∫–æ–≥–¥–∞ –Ω—É–∂–µ–Ω —ç—Ç–æ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª}

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç
{–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —á—Ç–æ –¥–µ–ª–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª}

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –®–∞–≥ 1: {–î–µ–π—Å—Ç–≤–∏–µ}
\`\`\`
{–ö–æ–º–∞–Ω–¥–∞ –∏–ª–∏ –∫–æ–¥}
\`\`\`

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: {–°—Ü–µ–Ω–∞—Ä–∏–π}
**–ü—Ä–æ–±–ª–µ–º–∞:** {–æ–ø–∏—Å–∞–Ω–∏–µ}

**–†–µ—à–µ–Ω–∏–µ:**
\`\`\`
{–∫–æ–¥}
\`\`\`

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ò–ò

\`\`\`
{–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è –ò–ò}
\`\`\`

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- \`{—Ñ–∞–π–ª}\` - {–æ–ø–∏—Å–∞–Ω–∏–µ}

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- {–ú–æ–¥—É–ª—å}
`;

// –®–∞–±–ª–æ–Ω –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
const guideTemplate = `# ${functionalityName} - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## üìã –û–±–∑–æ—Ä

{–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞}

## üéØ –ó–∞—á–µ–º –Ω—É–∂–Ω–æ

### –ü—Ä–æ–±–ª–µ–º—ã –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ—à–∞–µ—Ç:

#### 1. {–ü—Ä–æ–±–ª–µ–º–∞}
**–ë—ã–ª–æ:**
\`\`\`javascript
{–ö–æ–¥}
\`\`\`

**–°—Ç–∞–ª–æ:**
\`\`\`javascript
{–ö–æ–¥}
\`\`\`

## üîß –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

{–û–ø–∏—Å–∞–Ω–∏–µ}

## üíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

\`\`\`javascript
{–ü—Ä–∏–º–µ—Ä}
\`\`\`

## üìä API Reference

- \`functionName()\` - {–æ–ø–∏—Å–∞–Ω–∏–µ}

## üéì –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: {–ù–∞–∑–≤–∞–Ω–∏–µ}

**–®–∞–≥–∏:**
1. {–®–∞–≥}

## üîç Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: {–ù–∞–∑–≤–∞–Ω–∏–µ}
**–†–µ—à–µ–Ω–∏–µ:** {–æ–ø–∏—Å–∞–Ω–∏–µ}

## üìö –°–º. —Ç–∞–∫–∂–µ

- [{–°—Å—ã–ª–∫–∞}](–ø—É—Ç—å)

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** ${new Date().toISOString().split('T')[0]}
`;

// –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
const promptPath = path.join(__dirname, '..', '.aws', 'amazonq', 'prompts', `PROMPT_${functionalityName}.md`);
const guidePath = path.join(__dirname, '..', 'docs', `${functionalityName}_GUIDE.md`);

try {
  fs.writeFileSync(promptPath, promptTemplate);
  console.log(`‚úÖ –°–æ–∑–¥–∞–Ω –ø—Ä–æ–º–ø—Ç: ${promptPath}`);

  fs.writeFileSync(guidePath, guideTemplate);
  console.log(`‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: ${guidePath}`);

  console.log('\nüìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:');
  console.log('1. –ó–∞–ø–æ–ª–Ω–∏ —à–∞–±–ª–æ–Ω—ã –≤ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö');
  console.log('2. –û–±–Ω–æ–≤–∏ README.md');
  console.log('3. –û–±–Ω–æ–≤–∏ project-standards.md');
  console.log('4. –û–±–Ω–æ–≤–∏ state —Ñ–∞–π–ª—ã (registry, dependencies, todo, changelog)');
  console.log('\n‚ú® –ì–æ—Ç–æ–≤–æ!');
} catch (error) {
  console.error('‚ùå –û—à–∏–±–∫–∞:', error.message);
  process.exit(1);
}
